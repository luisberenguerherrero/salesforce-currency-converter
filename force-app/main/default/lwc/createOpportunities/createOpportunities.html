<template>
  <lightning-card variant="Narrow">
    <div class="container">
      <div class="row up_row">
        <div class="slds-size_1-of-2 slds-p-horizontal_medium">
          <div class="slds-text-heading_medium">
            1. Select the opportunity data
          </div>
          <lightning-record-edit-form object-api-name="Opportunity">
            <div class="slds-m-around_medium">
              <lightning-input
                type="number"
                label="Amount"
                formatter="currency"
                step="0.01"
                onchange={handleAmount}
                required
              ></lightning-input>
              <template if:true={StagePicklistValues.data}>
                <lightning-combobox
                  label="Stage"
                  placeholder="Select Stage"
                  options={StagePicklistValues.data.values}
                  onchange={handleStage}
                  required
                ></lightning-combobox>
              </template>
              <lightning-input
                type="date"
                label="Close Date"
                onchange={handleDate}
                required
              ></lightning-input>
            </div>
          </lightning-record-edit-form>
          <!-- <lightning-input
            label="Amount"
            class="slds-m-top_medium"
            name="amount"
            onchange={handleChange}
          ></lightning-input>
          <lightning-input
            label="Stage"
            class="slds-m-top_medium"
            name="stage"
            onchange={handleChange}
          ></lightning-input>
          <lightning-input
            label="Closed Date"
            class="slds-m-top_medium"
            name="date"
            onchange={handleChange}
          ></lightning-input> -->
        </div>
        <c-account-list
          selected-accounts-map={selectedAccountsMap}
          onupdate={handleUpdateEvent}
        >
        </c-account-list>
      </div>
      <div
        class="row down_row slds-m-top_large slds-align_absolute-center"
        style={stylePreview}
      >
        <div class="slds-text-heading_medium slds-m-bottom_medium">
          3. Preview and create opportunities
        </div>
        <!-- <template iterator:it={selectedAccounts}>
            <span key={it.Id}>{it.Name}</span>
          </template> -->
        <c-preview-opportunities
          opportunity-data={opportunityData}
          accounts={selectedAccounts}
          style-preview={stylePreviewChild}
          onremove={handleRemoveEvent}
        ></c-preview-opportunities>
      </div>
    </div>
  </lightning-card>
</template>
